<!DOCTYPE html>
<html lang="en">

<head>
    <title>INScoreJS</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<link href="../css/inscore.css" rel="stylesheet">
	<script src="../inscore.js"></script>
	<script src="../libGUIDOEngine.js"></script>
 	<script>
	function showlog(v) {
		INScore.postMessage("/ITL/log", ["show", v]);
	}
	</script>
	<script src="../src/inscore.ts"></script>
</head>

<body style="margin: 20px">
	<h1>INScoreJS</h1>
        <p><a title="Open INScore log" onclick='showlog(1)', style="cursor:pointer;">INScore log</a></p>    
    <div id="debug">
    </div>
    <input type="text" value="CSS Propertie" id="propertie"/>
    <input type="text" value="Element Tag" id="tag"/>
    <input type="button" id="debuLaunch" value="Debug" onclick="getInformations()"/>
    <p><sup>* to get all element in scene, but don't work to get all properties</sup></p>
    <script type="text/javascript"> INScore.start("scene") </script>

<script>
    function getInformations() {
       //clean debug area
       document.getElementById("debug").innerHTML = "";
       //get scene, it children and param
       var scene = document.getElementsByClassName("inscore-scene")[0];
       var propertie = document.getElementById("propertie").value;
       var target = document.getElementById("tag").value;
       var array = scene.getElementsByTagName(target);
       //write in debug area
       document.getElementById("debug").innerHTML += "scene " + propertie + ": " + window.getComputedStyle(scene, null).getPropertyValue(propertie);
       for (let i=0; i<array.length; i++ ){
            try {
                document.getElementById("debug").innerHTML += array[i].className + " " + propertie + ": " + window.getComputedStyle(array[i], null).getPropertyValue(propertie);
            }
            catch (e){ console.log(e)}
       }
    }
</script>
</body>
</html>